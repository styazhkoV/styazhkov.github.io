---
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const blogEntries = await getCollection('blog');
  return blogEntries.map(entry => ({
    params: { slug: entry.slug }, props: { entry },
  }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>{entry.data.title}</title>
  </head>
  <body class="bg-slate-50 py-12 px-4 antialiased">
    <article class="max-w-4xl mx-auto bg-white p-8 md:p-16 shadow-xl shadow-slate-200/50 rounded-3xl">
      <a href="/" class="group text-slate-400 hover:text-blue-600 transition-colors mb-10 inline-flex items-center gap-2 text-sm font-medium">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 group-hover:-translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
        Назад ко всем кейсам
      </a>
      
      <header class="mb-12 border-b border-slate-100 pb-12">
        <div class="flex gap-2 mb-6">
          {entry.data.tags.map(tag => (
            <span class="bg-blue-50 text-blue-600 px-3 py-1 rounded-lg text-xs font-bold uppercase tracking-wider">
              {tag}
            </span>
          ))}
        </div>
        <h1 class="text-4xl md:text-5xl font-black text-slate-900 mb-6 leading-tight">
          {entry.data.title}
        </h1>
        <p class="text-xl text-slate-500 leading-relaxed italic">
          {entry.data.description}
        </p>
      </header>

      <div class="prose prose-slate prose-blue max-w-none 
        prose-headings:font-bold prose-headings:text-slate-900
        prose-a:text-blue-600 prose-img:rounded-2xl prose-img:shadow-lg">
        <Content />
      </div>
    </article>
  </body>
</html>